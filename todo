(done) учесть размер инвентаря при изучении 1 спела в поиске
(done) добавить остальные спелы в поиск
(done) убрать обратно вложенную функцию в поиске - кажется она тормозит
(done) настроить коэффициенты. мб уменьшить обучение.
(done) добавить repeatable spells в поиск
(done) когда нужны синие, то кастовать не только дефолтный генератор синих, но и выученные, если есть (нужно найти)
(done) если поиск не удался то кастовать не рандом, а лучшее по оценке веса ингридиентов
дописать оценку изучения -- например снижать приоритет +3 синих, если уже изучили +4 синих (сбалансированная колода)
оптимизация can_cast -> cast сначала сложить, потом проверять (контроль остатков по новому)

не останавливать поиск - возвращать дистанции (и пути) до всех зелий, до которых успел
добавить поиск для соперника - не идти к зелью, если ему ближе (по крайней мере снижать приоритет)

отладка
(done) (dataclasses.replace медленный... NamedTuple _replace быстрее) проверить поиск профилировщиком
